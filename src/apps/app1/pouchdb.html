<link rel="import" href="../../../bower_components/app-pouchdb/app-pouchdb-document.html">
<dom-module id="app1-pouchdb">

    <template>
        <app-pouchdb-document
            db-name="mylocaldb"
            doc-id="1"
            data="{{cat}}">
        </app-pouchdb-document>
        {{cat.name}}
    </template>

    <script>
    Polymer({
      is:'app1-pouchdb',
      behaviors: [
        gl.behavior.core,
        gl.behavior.locales
      ],
      created:function(){
        this.glSetTitle('pouchdb');
        this.glSetLayout('layout-main');
      },
      ready:function(){
        
        // db.info().then(function (info) {
        //     console.log(info);
        // });
        // var doc = {
        //     "_id": "mittens",
        //     "name": "Mittens",
        //     "occupation": "kitten",
        //     "age": 3,
        //     "hobbies": [
        //         "playing with balls of yarn",
        //         "chasing laser pointers",
        //         "lookin' hella cute"
        //     ]
        // };

        // db.put(doc);

        // db.get('mittens').then(function (doc) {
        //     console.log(doc);

        //     doc.age = 4;
        //     db.put(doc);
        // });

        // db.get('mittens').then(function (doc) {
        //     // update their age
        //     doc.age = 5;
        //     // put them back
        //     return db.put(doc);
        // }).then(function () {
        //     // fetch mittens again
        //     return db.get('mittens');
        // }).then(function (doc) {
        //     console.log(doc);
        // });

        var localDB = new PouchDB('mylocaldb');
        // localDB.put({
        //     "_id":'1',
        //     "name":'Namkhaeng'
        // });

        var remoteDB = new PouchDB('http://localhost:5984/myremotedb');
        // localDB.replicate.to(remoteDB).on('complete', function () {
        //     // yay, we're done!
        //     console.log('ok');
        // }).on('error', function (err) {
        //     // boo, something went wrong!
        //     console.log('error');
        // });

        localDB.get('1').then(function (doc) {
            console.log(doc);
        });

      }
    });

  </script>
</dom-module>